<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="D&P Website">
  <meta name="author" content="Connor Tang">

  <title>D&P</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

  <!-- Custom styles -->
  <link href="css/style.min.css" rel="stylesheet">

  <!-- Bootstrap Lightbox CSS -->
  <!-- <link href="vendor/lightbox/ekko-lightbox.css" rel="stylesheet" type="text/css"> -->
</head>

<body id="page-top">
  <span id="resuable-header"></span>

  <!-- Gallery level 2 navbar -->
  <section class="bg-light page-section">
    <div class="container">
      <div class="gallery-nav-1">
        <div id="nav-one" class="gallery-nav-item text-uppercase">
          <a class="ga-trigger" href="#" data-section="1" data-toggle="section">
            <div class="box-button">Individual Stand</div>
            <div class="second-line">特装展位</div>
          </a>
        </div>
        <div id="nav-two" class="gallery-nav-item text-uppercase">
          <a class="ga-trigger" href="#" data-section="2" data-toggle="section">
            <div class="box-button">National Pavilion</div>
            <div class="second-line">国家展团</div>
          </a>
        </div>
      </div>

      <!-- Gallery level 3 navbar -->
      <div class="gallery-nav-2">
        <div id="nav-1" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="1" data-toggle="list"><span class="nav-text">全部</span></a>
        </div>
        <div id="nav-2" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="2" data-toggle="list"><span class="nav-text">德国</span></a>
        </div>
        <div id="nav-3" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="3" data-toggle="list"><span class="nav-text">迪拜</span></a>
        </div>
        <div id="nav-4" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="4" data-toggle="list"><span class="nav-text">日本</span></a>
        </div>
        <div id="nav-5" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="5" data-toggle="list"><span class="nav-text">法国</span></a>
        </div>
        <div id="nav-6" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="6" data-toggle="list"><span class="nav-text">意大利</span></a>
        </div>
        <div id="nav-7" class="gallery-nav-item text-uppercase">
          <a href="#" data-list="7" data-toggle="list"><span class="nav-text">俄罗斯</span></a>
        </div>
      </div>

      <!-- Gallery images -->
      <div id="gallery-1" class="gallery set-1"></div>

      <!-- View More Btn -->
      <div class="col-lg-12 text-center view-more">
        <div id="success"></div>
        <button id="viewMore" class="btn btn-primary btn-xl text-uppercase" type="submit">View More</button>
      </div>
    </div>
  </section>

  <span id="resuable-footer"></span>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Contact form JavaScript -->
  <script src="js/jqBootstrapValidation.js"></script>
  <script src="js/contact_me.js"></script>

  <!-- Bootstrap Lightbox scripts -->
  <!-- http://ashleydw.github.io/lightbox/ -->
  <script src="js/ekko-lightbox.min.js"></script>

  <!-- Custom scripts -->
  <script src="js/dp-web.js"></script>

  <script>
    // const var; change the number if need
    var IMAGELIMIT = 30;
    var page = 1;
    var section = 1;
    var list = 1;

    function loadImages(num) {
      var curItemLen = $("#gallery-1").find(".img-tile").length;
      var item = curItemLen + 1;
      var rowNum = num / 3;
      var row = '';

      for (var i = 0; i < rowNum; i++) {
        row += '<div class="row">';
        for (var j = 0; j < 3; j++) {
          var url = 'img/work-gallery/'+page+'/'+section+'/'+list+'/'+item+'.jpg';
          row += '<a href="' + url + '" data-toggle="lightbox" data-gallery="gallery" class="img-tile col-md-4">';
          row += '<img src="' + url + '" class="img-fluid rounded grayscale">';
          row += '</a>';
          item++;
        }
        row += '</div>';
      }
      $("#gallery-1").append(row);
    }

    $(document).ready(function() {
      $('#resuable-header').load('./resuable-header.html', function() {
        $('a.js-trigger[data-page="1"]').addClass("active");
        $('a.ga-trigger[data-section="1"]').addClass("active");
        $('a[data-list="1"]').addClass("active");
        loadImages(12);
      });
      $('#resuable-footer').load('./resuable-footer.html');
    });

    $(document).on("click", '[data-toggle="lightbox"]', function(event) {
      event.preventDefault();
      // lightbox - enable if need
      // $(this).ekkoLightbox();
    });

    $(document).on("click", '[data-toggle="page"]', function(event) {
      $('a.js-trigger[data-page="' + page + '"]').removeClass("active");
      page = $(this).data('page');
      $('a.js-trigger[data-page="' + page + '"]').addClass("active");

      $("#gallery-1").empty();
      loadImages(12);
    });
    $(document).on("click", '[data-toggle="section"]', function(event) {
      $('a.ga-trigger[data-section="' + section + '"]').removeClass("active");
      section = $(this).data('section');
      $('a.ga-trigger[data-section="' + section + '"]').addClass("active");

      $("#gallery-1").empty();
      loadImages(12);
    });
    $(document).on("click", '[data-toggle="list"]', function(event) {
      $('a[data-list="' + list + '"]').removeClass("active");
      list = $(this).data('list');
      $('a[data-list="' + list + '"]').addClass("active");

      $("#gallery-1").empty();
      loadImages(12);
    });

    $("#viewMore").click(function() {
      if ($("#gallery-1").find(".img-tile").length !== IMAGELIMIT) {
        loadImages(3);
      }
    });
  </script>

</body>

</html>